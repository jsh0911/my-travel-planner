<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Trip Planner Pro</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script defer src="https://unpkg.com/alpinejs@3.x.x/dist/cdn.min.js"></script>
    <script src="https://unpkg.com/lucide@latest"></script>
</head>
<body class="bg-gray-100 p-4 font-sans">
    <div x-data="planner()" class="max-w-md mx-auto bg-white rounded-xl shadow-lg overflow-hidden border-2 border-gray-800">
        <div class="bg-gray-800 text-white p-2 flex justify-between items-center text-xs">
            <span>TRIP_PLANNER_PRO.EXE</span>
            <div class="flex gap-1">
                <div class="w-3 h-3 bg-gray-600"></div>
                <div class="w-3 h-3 bg-gray-600"></div>
            </div>
        </div>

        <div class="flex border-b-2 border-gray-800">
            <template x-for="tab in tabs" :key="tab.id">
                <button @click="activeTab = tab.id" 
                    :class="activeTab === tab.id ? 'bg-white font-bold' : 'bg-gray-200 text-gray-500'"
                    class="flex-1 py-3 px-2 text-sm border-r-2 border-gray-800 last:border-r-0 flex items-center justify-center gap-2">
                    <span x-html="tab.icon"></span>
                    <span x-text="tab.label"></span>
                </button>
            </template>
        </div>

        <div class="p-4 min-h-[400px]">
            <h2 class="text-xl font-bold mb-4 text-center border-b-2 border-dashed border-gray-300 pb-2" 
                x-text="activeTab === 'schedule' ? '2박 3일 여행 일정' : (activeTab === 'checklist' ? 'PACKING LIST' : 'BUDGET TRACKER')"></h2>

            <div x-show="activeTab === 'schedule'">
                <div class="flex gap-2 mb-4">
                    <template x-for="day in [1, 2, 3]">
                        <button @click="activeDay = day"
                            :class="activeDay === day ? 'bg-blue-600 text-white' : 'bg-gray-100 text-gray-600'"
                            class="flex-1 py-1 text-xs border-2 border-gray-800 rounded-lg font-bold"
                            x-text="'Day ' + day"></button>
                    </template>
                </div>
                <div class="flex gap-2 mb-4">
                    <input x-model="newItem.time" type="time" class="border-2 border-gray-800 p-1 text-xs w-24">
                    <input x-model="newItem.text" type="text" placeholder="일정 입력" class="flex-1 border-2 border-gray-800 p-1 text-xs">
                    <button @click="addItem()" class="bg-black text-white px-3 py-1 text-xs font-bold">추가</button>
                </div>
                <ul class="space-y-2">
                    <template x-for="item in filteredSchedules" :key="item.id">
                        <li class="flex justify-between items-center text-sm p-2 bg-gray-50 border-b border-gray-200">
                            <div>
                                <span class="font-bold mr-2" x-text="item.time"></span>
                                <span x-text="item.text"></span>
                            </div>
                            <button @click="deleteItem(item.id)" class="text-red-500 text-xs">삭제</button>
                        </li>
                    </template>
                </ul>
            </div>

            <div x-show="activeTab === 'checklist'">
                <div class="flex gap-2 mb-4">
                    <input x-model="newCheck" @keyup.enter="addCheck()" type="text" placeholder="준비물 입력" class="flex-1 border-2 border-gray-800 p-1 text-xs">
                    <button @click="addCheck()" class="bg-black text-white px-3 py-1 text-xs font-bold">추가</button>
                </div>
                <ul class="space-y-2">
                    <template x-for="check in checklist" :key="check.id">
                        <li class="flex items-center gap-2 text-sm">
                            <input type="checkbox" x-model="check.completed">
                            <span :class="check.completed ? 'line-through text-gray-400' : ''" x-text="check.text"></span>
                        </li>
                    </template>
                </ul>
            </div>

            <div x-show="activeTab === 'expense'">
                <div class="bg-gray-800 text-white p-3 rounded mb-4 text-center">
                    <p class="text-xs uppercase">Total Expense</p>
                    <p class="text-xl font-bold" x-text="totalExpense.toLocaleString() + '원'"></p>
                </div>
                <p class="text-center text-gray-400 text-xs mt-10">내역을 입력하여 지출을 관리하세요.</p>
            </div>
        </div>
    </div>

    <script>
        function planner() {
            return {
                activeTab: 'schedule',
                activeDay: 1,
                newItem: { time: '10:00', text: '' },
                newCheck: '',
                tabs: [
                    { id: 'schedule', label: '일정', icon: '<i data-lucide="calendar" class="w-4 h-4"></i>' },
                    { id: 'checklist', label: '체크리스트', icon: '<i data-lucide="check-square" class="w-4 h-4"></i>' },
                    { id: 'expense', label: '경비', icon: '<i data-lucide="wallet" class="w-4 h-4"></i>' }
                ],
                schedules: [
                    { id: 1, day: 1, time: '10:00', text: '인천공항 도착' },
                    { id: 2, day: 2, time: '09:00', text: '호텔 조식 및 출발' }
                ],
                checklist: [
                    { id: 1, text: '여권 챙기기', completed: false }
                ],
                get filteredSchedules() {
                    return this.schedules.filter(s => s.day === this.activeDay).sort((a, b) => a.time.localeCompare(b.time));
                },
                get totalExpense() {
                    return 350000; // 예시 데이터
                },
                addItem() {
                    if (!this.newItem.text) return;
                    this.schedules.push({ ...this.newItem, id: Date.now(), day: this.activeDay });
                    this.newItem.text = '';
                },
                addCheck() {
                    if (!this.newCheck) return;
                    this.checklist.push({ id: Date.now(), text: this.newCheck, completed: false });
                    this.newCheck = '';
                },
                deleteItem(id) {
                    this.schedules = this.schedules.filter(s => s.id !== id);
                },
                init() {
                    lucide.createIcons();
                }
            }
        }
    </script>
</body>
</html>
